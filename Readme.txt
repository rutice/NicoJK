/*
 NicoJK
  TVTest ニコニコ実況プラグイン
*/

■なにこれ？
ニコニコ実況をTVTestで表示するプラグインです。

■必要なもの
ニコニコ実況のSDKはとりあえず要らなくなりました。
useSDK=1としてニコニコ実況のSDKによる表示が良い場合は、
http://help.nicovideo.jp/jksdk/
からダウンロードして、インストールしてください。

■使い方
NicoJK.ini、NicoJK.tvtpをTVTestのPluginsフォルダに入れて、
TVTestを起動して、プラグインを有効にしてください。

■設定
NicoJK.iniで、
　「TVTestでのチャンネル名」
　と
　「ニコニコ実況の番号 （jk?の数字部分）」
を設定します。
デフォルトでは関東地域と難視聴チャンネルとＢＳが設定されています。

その他は直接NicoJK.iniを見てください

■制限
コメントはできません。
ニコニコ実況SDKを使わない場合、今のところbig/small/ueコマンドは解釈しません。
ウィンドウサイズと文字サイズは比例しません。ＡＡは勝手に解体されます。
切断時や４時の実況切り替わり時の再接続は未実装。

■テスト環境
Win7 sp1 + PT2 + ptTimer + BonDriver_ptmr.dll + TVTest 0.7.19(x86)

■配布
https://github.com/rutice/NicoJK/downloads
リンクする場合は、配布ページか、ソースコードのページへお願いします。

■ソースコード
https://github.com/rutice/NicoJK

■更新履歴
rev.9
コメントログを追加した
ついでに文字をちっさくし、ウィンドウをリサイズできるようにした
透過色を変えてみた
TVTestの「常に前面に表示」が効かないのを直した・・・はず

rev.8
独自実装によるコメント取得・描画をデフォルトで有効にした
　色とshitaコマンドには対応した。
　勢い取得も独自になった。BSは提供されてないので表示できません。
　useSDK=1とすると、以前のようにSDKを使って表示します。
TVTestをアクティブにすると、勢い窓も見えるようにした
勢い窓で現在見てるチャンネルを選択状態にした
独自実装で半角の><&"が表示されないのを修正

rev.7
独自実装でＢＳの実況も見れるようになった
useSDK=0とすると、地デジでも独自実装で見れるようになった
勢い窓の位置を保存するようにした

rev.6
コメントの位置調整方法を変えた（わりと決め打ちに）

rev.5
コメントの勢いを見れるウィンドウを実装

rev.4
プラグインを切っても起動時やチャンネル切替時にコメントが表示されたのを修正
ドライバ切替時にはすぐコメントを消すようにした

rev.3
難視聴のチャンネル名、通常のサービス名をNicoJK.iniに追加
TVTestへの追尾方法を変更（全画面表示・最前面表示だとまだ微妙におかしいけど）
サービス切替時にコメントが変更されないのを修正
実況のないチャンネルに切替してもコメントが消えなかったのを修正

rev.2
チャンネル設定対応
全画面対応

rev.1
初期リリース